# MARUNI 안부 메시지 페이지 UI 설계

**매일 안부 확인** - 노인분들이 가장 자주 사용하는 핵심 기능

## 🎯 페이지 목적 및 사용자 플로우

### **기능 개요**
- 매일 오전 9시 자동 발송되는 안부 메시지에 응답
- 텍스트 입력 또는 음성 입력 지원
- AI 감정 분석을 통한 이상징후 감지
- 보호자에게 자동 안부 전달

### **사용자 여정**
```
🏠 메인 대시보드 → 💬 안부 메시지 보내기 터치
    ↓
📝 오늘의 질문 + 응답 입력 화면
    ↓
⌨️ 텍스트 입력 OR 🎤 음성 입력 선택
    ↓
📤 전송 버튼 터치
    ↓
🔄 AI 분석 중... (로딩 화면)
    ↓
✅ 전송 완료 확인 화면
    ↓
🏠 메인으로 돌아가기
```

## 📱 페이지 레이아웃 설계

### **전체 화면 구성**
```
┌─────────────────────────────────────┐
│ ← 뒤로   💬 안부 메시지        ✅   │ ← 헤더 (60px)
├─────────────────────────────────────┤
│                                     │
│ 📅 오늘의 질문 영역                  │ ← 질문 영역 (150px)
│                                     │
├─────────────────────────────────────┤
│                                     │
│                                     │
│       응답 입력 영역                 │ ← 입력 영역 (400px)
│                                     │
│                                     │
├─────────────────────────────────────┤
│  🎤 음성입력    📝 텍스트    📤 전송 │ ← 액션 바 (80px)
└─────────────────────────────────────┘
```

## 📋 구역별 상세 설계

### **1. 헤더 영역 (60px)**
```tsx
// 디자인 명세
높이: 60px
배경: 흰색 (#ffffff)
테두리: 하단 연한 회색 라인

// 왼쪽: 뒤로가기 버튼
← 뒤로 (24px 아이콘)
터치 영역: 48px × 48px
터치 시: 메인 대시보드로 이동

// 중앙: 페이지 제목
💬 안부 메시지
폰트: 20px, 굵게, 검정색

// 오른쪽: 진행 상태 (선택적)
✅ 또는 📝 (완료/작성중 표시)
```

### **2. 오늘의 질문 영역 (150px)**
```tsx
// 디자인 명세
높이: 150px
배경: 연한 파란색 (#f0f9ff)
패딩: 20px
모서리: 둥근 모서리 12px (상단만)

// 내용 구성
📅 2024년 9월 29일 일요일
   폰트: 16px, 보통, 회색 (#6b7280)

"안녕하세요! 오늘 기분은 어떠세요?"
   폰트: 24px, 굵게, 검정색 (#1f2937)
   줄간격: 1.4

💡 "편안하게 오늘 하루 어떻게 지내셨는지 들려주세요"
   폰트: 16px, 보통, 회색 (#6b7280)
```

### **3. 응답 입력 영역 (400px)**
```tsx
// 디자인 명세
높이: 400px
배경: 흰색
패딩: 20px

// 입력 모드에 따른 레이아웃 변경
```

#### **3-1. 텍스트 입력 모드 (기본)**
```tsx
// 큰 텍스트 입력 창
<textarea>
  placeholder: "예: 오늘은 날씨가 좋아서 기분이 좋아요"
  크기: 전체 너비 × 300px
  폰트: 18px, 보통
  테두리: 연한 회색, 포커스 시 파란색
  패딩: 16px
  모서리: 둥근 모서리 8px
</textarea>

// 글자 수 표시
"47자 입력됨"
폰트: 14px, 회색
위치: 입력창 우하단

// 빠른 응답 버튼들 (선택적)
😊 좋아요    😐 보통이에요    😔 우울해요
각 버튼: 80px × 40px, 둥근 모서리
터치 시 텍스트에 자동 입력
```

#### **3-2. 음성 입력 모드**
```tsx
// 음성 입력 인터페이스
🎤 [큰 마이크 아이콘] (120px)
   배경: 빨간색 원형 (#dc2626)
   가운데 흰색 마이크 아이콘
   터치 시: 음성 인식 시작

"터치해서 말씀해 주세요"
폰트: 20px, 굵게, 중앙 정렬

// 음성 인식 중
🔴 녹음 중... (파형 애니메이션)
"말씀하고 계신 내용을 듣고 있어요"

// 인식된 텍스트 표시
"오늘은 날씨가 좋아서 산책을 했어요"
폰트: 18px, 검정색
배경: 연한 회색 박스 (#f3f4f6)
```

### **4. 하단 액션 바 (80px)**
```tsx
// 디자인 명세
높이: 80px
배경: 흰색
테두리: 상단 연한 회색 라인
패딩: 16px

// 3개 버튼 배치
```

#### **음성입력 버튼**
```tsx
🎤 음성입력
크기: 80px × 48px
배경: 연한 회색 (#f3f4f6)
텍스트: 검정색
모서리: 둥근 모서리 8px

// 활성 상태 (음성 입력 모드)
배경: 빨간색 (#dc2626)
텍스트: 흰색
```

#### **텍스트입력 버튼**
```tsx
📝 텍스트
크기: 80px × 48px
배경: 연한 회색 (#f3f4f6)
텍스트: 검정색

// 활성 상태 (텍스트 입력 모드)
배경: 파란색 (#2563eb)
텍스트: 흰색
```

#### **전송 버튼**
```tsx
📤 전송하기
크기: 120px × 48px
배경: 주요 파란색 (#2563eb)
텍스트: 흰색, 18px, 굵게
모서리: 둥근 모서리 8px

// 비활성 상태 (내용 없을 때)
배경: 연한 회색 (#d1d5db)
터치 불가

// 활성 상태
배경: 진한 파란색
터치 시: 살짝 어두워짐
```

## 🔄 상태별 화면 변화

### **1. 초기 상태 (텍스트 입력 모드)**
```
- 텍스트 입력창 표시
- 빠른 응답 버튼 3개
- 전송 버튼 비활성 (회색)
```

### **2. 텍스트 입력 중**
```
- 입력창에 포커스
- 글자 수 표시
- 전송 버튼 활성화 (파란색)
```

### **3. 음성 입력 모드**
```
- 텍스트 입력창 숨김
- 큰 마이크 버튼 표시
- 음성입력 버튼 활성 (빨간색)
```

### **4. 음성 인식 중**
```
- 마이크 아이콘 빨간색으로 변경
- "녹음 중..." 텍스트 + 파형 애니메이션
- 다른 버튼들 비활성화
```

### **5. 음성 인식 완료**
```
- 인식된 텍스트 표시
- 텍스트 모드로 자동 전환
- 전송 버튼 활성화
```

### **6. 전송 중 (로딩)**
```
┌─────────────────────────────────────┐
│           🔄 전송 중...             │
│                                     │
│     AI가 메시지를 분석하고 있어요    │
│                                     │
│         잠시만 기다려 주세요          │
│                                     │
│     [진행률 바 또는 스피너]          │
└─────────────────────────────────────┘
```

### **7. 전송 완료**
```
┌─────────────────────────────────────┐
│            ✅ 전송 완료!             │
│                                     │
│      오늘 안부를 잘 전달했어요       │
│                                     │
│      보호자님께도 알려드렸습니다      │
│                                     │
│     [확인] 버튼 (메인으로 이동)      │
└─────────────────────────────────────┘
```

## 🎨 색상 및 스타일 가이드

### **상태별 색상**
```css
/* 기본 상태 */
--input-border: #d1d5db;
--input-focus: #2563eb;
--text-primary: #1f2937;
--text-secondary: #6b7280;

/* 음성 관련 */
--voice-active: #dc2626;
--voice-recording: #b91c1c;

/* 전송 상태 */
--send-disabled: #d1d5db;
--send-active: #2563eb;
--send-success: #059669;
```

### **애니메이션 효과**
```css
/* 음성 파형 애니메이션 */
@keyframes voice-wave {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(1.5); }
}

/* 전송 로딩 스피너 */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* 성공 체크마크 */
@keyframes check-mark {
  0% { transform: scale(0); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}
```

## 🧪 접근성 및 사용성

### **노인 친화적 고려사항**
```tsx
// 큰 터치 영역
.touch-target {
  min-width: 48px;
  min-height: 48px;
}

// 명확한 포커스 표시
.input-focus {
  outline: 3px solid #2563eb;
  outline-offset: 2px;
}

// 음성 피드백
aria-live="polite" // 상태 변화 알림
aria-label="음성으로 안부 메시지 입력" // 버튼 설명
```

### **에러 처리**
```tsx
// 네트워크 오류
"인터넷 연결을 확인해 주세요"
- 재시도 버튼 제공
- 임시 저장 기능

// 음성 인식 실패
"음성을 인식하지 못했어요. 다시 말씀해 주세요"
- 텍스트 입력으로 전환 옵션

// 빈 메시지 전송 시도
"메시지를 입력해 주세요"
- 입력창 강조 표시
```

## 📱 반응형 고려사항

### **다양한 화면 크기**
```css
/* 작은 화면 (320px~) */
.small-screen {
  .question-area { height: 120px; }
  .input-area { height: 350px; }
  .quick-buttons { display: none; } /* 공간 절약 */
}

/* 큰 화면 (480px~) */
.large-screen {
  .container { max-width: 480px; margin: 0 auto; }
  .quick-buttons { display: flex; }
}
```

## 🚀 구현 우선순위

### **Phase 1: 기본 기능**
1. 텍스트 입력 및 전송
2. 기본 레이아웃 및 스타일링
3. 상태 관리 (입력/전송/완료)

### **Phase 2: 고급 기능**
1. 음성 입력 (Web Speech API)
2. 빠른 응답 버튼
3. 애니메이션 효과

### **Phase 3: 최적화**
1. 오프라인 임시 저장
2. 접근성 개선
3. 성능 최적화

---

**💬 이 안부 메시지 페이지는 노인분들이 매일 쉽고 편하게 안부를 전할 수 있도록 설계되었습니다!**