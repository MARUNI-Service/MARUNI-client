# MARUNI 기록 조회 페이지 UI 설계

**지난 기록 한눈에** - 대화와 안부 이력을 편리하게 확인하는 페이지

## 🎯 페이지 목적 및 사용자 플로우

### **기능 개요**
- 지난 안부 메시지 및 AI 대화 기록 조회
- 날짜별, 카테고리별 필터링
- 기록 상세 보기 및 재확인
- 보호자와 공유된 내용 확인

### **사용자 여정**
```
🏠 메인 대시보드 → 📋 지난 기록 보기 터치
    ↓
📅 기간 선택 (최근 7일, 30일, 전체)
    ↓
📂 카테고리 선택 (안부, 대화, 전체)
    ↓
📜 기록 목록 스크롤 확인
    ↓
👆 특정 기록 터치 → 📄 상세 내용 보기
    ↓
🏠 메인으로 돌아가기
```

## 📱 페이지 레이아웃 설계

### **전체 화면 구성**
```
┌─────────────────────────────────────┐
│ ← 뒤로   📋 지난 기록        🔍 검색 │ ← 헤더 (60px)
├─────────────────────────────────────┤
│ 📅 최근 7일  📂 전체  🔄 새로고침    │ ← 필터 바 (60px)
├─────────────────────────────────────┤
│                                     │
│                                     │
│            기록 목록                 │ ← 기록 리스트 (가변)
│                                     │
│                                     │
├─────────────────────────────────────┤
│         더보기 / 로딩              │ ← 페이징 (60px)
└─────────────────────────────────────┘
```

## 📋 구역별 상세 설계

### **1. 헤더 영역 (60px)**
```tsx
// 디자인 명세
높이: 60px
배경: 흰색 (#ffffff)
테두리: 하단 연한 회색 라인
그림자: 미묘한 그림자 효과

// 왼쪽: 뒤로가기
← 뒤로 (24px 아이콘)
터치 영역: 48px × 48px
터치 시: 메인 대시보드로 이동

// 중앙: 페이지 제목
📋 지난 기록
폰트: 20px, 굵게, 검정색

// 오른쪽: 검색 버튼
🔍 검색 (24px 아이콘)
터치 영역: 48px × 48px
터치 시: 검색 모달 열기
```

### **2. 필터 바 영역 (60px)**
```tsx
// 디자인 명세
높이: 60px
배경: 연한 회색 (#f9fafb)
테두리: 하단 연한 라인
패딩: 12px 16px

// 수평 스크롤 가능한 필터 버튼들
```

#### **기간 필터 버튼**
```tsx
📅 최근 7일    📅 최근 30일    📅 전체 기간
크기: 80px × 36px
모서리: 둥근 모서리 18px
간격: 8px

// 비선택 상태
배경: 흰색 (#ffffff)
텍스트: 회색 (#6b7280)
테두리: 1px solid #d1d5db

// 선택 상태
배경: 주요 파란색 (#2563eb)
텍스트: 흰색
테두리: 없음
```

#### **카테고리 필터 버튼**
```tsx
📂 전체    💬 안부    🤖 대화
크기: 60px × 36px
스타일: 기간 필터와 동일

// 구분선
세로 라인 (1px, 회색, 16px 높이)
필터 그룹 사이 간격: 16px
```

#### **새로고침 버튼**
```tsx
🔄 새로고침
크기: 36px × 36px 원형
배경: 흰색
아이콘: 회색 (#6b7280)
터치 시: 회전 애니메이션 + 데이터 새로고침
```

### **3. 기록 목록 영역 (가변 높이)**
```tsx
// 디자인 명세
높이: 화면 높이 - 헤더(60px) - 필터바(60px) - 페이징(60px)
배경: 흰색
패딩: 16px
스크롤: 수직 스크롤

// 빈 상태 (기록 없음)
중앙에 안내 메시지 표시
```

#### **기록 없음 상태**
```tsx
// 중앙 정렬 안내 화면
📄 [큰 문서 아이콘] (60px)
   회색 아이콘

"아직 기록이 없어요"
폰트: 20px, 굵게, 회색 (#6b7280)

"안부 메시지나 마루니와의 대화를
시작하면 여기에 기록이 남아요"
폰트: 16px, 보통, 연한 회색 (#9ca3af)
중앙 정렬, 줄간격 1.5

💡 "메인 화면에서 대화를 시작해보세요"
폰트: 14px, 이탤릭, 파란색 (#2563eb)
터치 시: 메인 화면으로 이동
```

#### **기록 카드 (개별 아이템)**
```tsx
// 카드 디자인 명세
크기: 전체 너비 × 100px
배경: 흰색
테두리: 1px solid #e5e7eb
모서리: 둥근 모서리 12px
패딩: 16px
간격: 카드 사이 12px
그림자: 미묘한 그림자
터치 시: 살짝 눌림 효과

// 카드 내부 레이아웃
[아이콘]  [메인 콘텐츠]     [시간/상태]
 56px        가변              80px
```

#### **안부 메시지 기록 카드**
```tsx
// 왼쪽: 카테고리 아이콘
💬 안부 메시지
원형 배경 (56px): 연한 파란색 (#dbeafe)
아이콘 (24px): 파란색 (#2563eb)

// 중앙: 메인 콘텐츠
"오늘 기분은 어떠세요?" (질문)
폰트: 16px, 굵게, 검정색 (#1f2937)

"좋아요! 날씨가 맑아서..." (응답 미리보기)
폰트: 14px, 보통, 회색 (#6b7280)
최대 2줄, 넘치면 "..." 표시

// 오른쪽: 시간 및 상태
"오전 9:15"
폰트: 12px, 보통, 회색 (#9ca3af)

✅ 완료 (상태 아이콘)
크기: 16px, 성공 색상 (#059669)
```

#### **AI 대화 기록 카드**
```tsx
// 왼쪽: 카테고리 아이콘
🤖 AI 대화
원형 배경 (56px): 연한 녹색 (#dcfce7)
아이콘 (24px): 녹색 (#059669)

// 중앙: 메인 콘텐츠
"마루니와의 대화" (제목)
폰트: 16px, 굵게, 검정색

"안녕하세요! 오늘은..." (대화 미리보기)
폰트: 14px, 보통, 회색
최대 2줄 표시

// 오른쪽: 메시지 수 및 시간
"메시지 8개"
폰트: 12px, 보통, 회색

"오후 2:30"
폰트: 12px, 보통, 회색
```

#### **특별 이벤트 기록 카드**
```tsx
// 보호자 알림 발송 기록
🚨 보호자 알림
원형 배경 (56px): 연한 주황색 (#fed7aa)
아이콘 (24px): 주황색 (#ea580c)

"보호자님께 알림을 보냈어요"
폰트: 16px, 굵게, 검정색

"감정 상태 변화가 감지되어..." (사유)
폰트: 14px, 보통, 회색

// 우선순위 표시
⚠️ 중요 (배지)
배경: 빨간색 (#dc2626)
텍스트: 흰색, 12px
모서리: 둥근 모서리 4px
```

### **4. 페이징 영역 (60px)**
```tsx
// 디자인 명세
높이: 60px
배경: 흰색
테두리: 상단 연한 라인
패딩: 16px
중앙 정렬

// 더보기 버튼 (기본)
더 많은 기록 보기
크기: 200px × 40px
배경: 연한 회색 (#f3f4f6)
텍스트: 검정색, 16px
모서리: 둥근 모서리 20px

// 로딩 상태
🔄 기록을 불러오는 중...
스피너 + 텍스트

// 끝 상태
"모든 기록을 확인했어요"
폰트: 14px, 회색 (#9ca3af)
```

## 📄 기록 상세 보기 모달

### **모달 오버레이**
```tsx
// 전체 화면 오버레이
배경: 반투명 검정 (rgba(0, 0, 0, 0.5))
z-index: 1000

// 모달 컨테이너
크기: 전체 너비 × 80% 높이
배경: 흰색
모서리: 상단만 둥근 모서리 20px
위치: 하단에서 슬라이드 업
```

### **모달 헤더 (60px)**
```tsx
// 드래그 핸들
━━━━━ (중앙 정렬)
크기: 40px × 4px
색상: 연한 회색 (#d1d5db)
여백: 상단 12px

// 제목
"💬 2024년 9월 29일 안부 메시지"
폰트: 18px, 굵게, 검정색
중앙 정렬

// 닫기 버튼
✕ (오른쪽 상단)
크기: 32px × 32px
터치 영역: 48px × 48px
```

### **모달 내용 영역**
```tsx
// 스크롤 가능한 내용
패딩: 20px
배경: 흰색

// 안부 메시지 상세
📅 날짜/시간 정보
"2024년 9월 29일 일요일 오전 9:15"
폰트: 16px, 보통, 회색

❓ 질문
"오늘 기분은 어떠세요?"
폰트: 18px, 굵게, 검정색
배경: 연한 파란색 박스 (#f0f9ff)
패딩: 16px
모서리: 둥근 모서리 8px

✍️ 내 응답
"좋아요! 날씨가 맑아서 기분이 상쾌해요.
오늘은 산책도 다녀왔어요."
폰트: 16px, 보통, 검정색
배경: 흰색 박스
테두리: 1px solid #e5e7eb
패딩: 16px
줄간격: 1.6

🤖 AI 분석 결과
"😊 긍정적인 감정이 감지되었어요"
폰트: 16px, 보통, 성공 색상 (#059669)
배경: 연한 녹색 박스 (#f0fdf4)

📤 보호자 전달 상태
"✅ 김철수님께 전달 완료 (오전 9:20)"
폰트: 14px, 보통, 회색
```

### **AI 대화 상세 (대화형)**
```tsx
// 대화 메시지들 (채팅 형태)
메시지 형태는 AI 대화 페이지와 동일
- 사용자 메시지: 오른쪽 정렬, 파란색 버블
- AI 메시지: 왼쪽 정렬, 흰색 버블 + 아바타
- 시간 표시: 각 메시지 하단

// 대화 요약
📊 대화 요약
총 메시지: 8개
대화 시간: 15분
감정 상태: 😊 긍정적
키워드: 날씨, 산책, 건강
```

## 🔍 검색 기능

### **검색 모달**
```tsx
// 검색창
🔍 검색어를 입력하세요
크기: 전체 너비 × 48px
패딩: 12px 16px
테두리: 2px solid #e5e7eb
포커스 시: 파란색 테두리

// 최근 검색어
"최근 검색어"
- 산책 (✕ 삭제)
- 날씨 (✕ 삭제)
- 기분 (✕ 삭제)

// 검색 결과
필터링된 기록 카드들 표시
검색어 하이라이트 (노란색 배경)
```

## 🎨 색상 및 상태 표시

### **카테고리별 색상**
```css
/* 안부 메시지 */
--daily-check-bg: #dbeafe;
--daily-check-icon: #2563eb;
--daily-check-border: #93c5fd;

/* AI 대화 */
--conversation-bg: #dcfce7;
--conversation-icon: #059669;
--conversation-border: #86efac;

/* 보호자 알림 */
--alert-bg: #fed7aa;
--alert-icon: #ea580c;
--alert-border: #fdba74;

/* 시스템 이벤트 */
--system-bg: #f3f4f6;
--system-icon: #6b7280;
--system-border: #d1d5db;
```

### **상태별 색상**
```css
/* 성공/완료 */
--success-color: #059669;
--success-bg: #f0fdf4;

/* 경고/주의 */
--warning-color: #d97706;
--warning-bg: #fffbeb;

/* 오류/실패 */
--error-color: #dc2626;
--error-bg: #fef2f2;

/* 정보/중립 */
--info-color: #2563eb;
--info-bg: #eff6ff;
```

## 📱 반응형 및 접근성

### **노인 친화적 고려사항**
```tsx
// 큰 터치 영역
.record-card {
  min-height: 100px;
  touch-action: manipulation;
}

// 명확한 구분
.record-divider {
  border-bottom: 2px solid #f3f4f6;
  margin: 8px 0;
}

// 읽기 쉬운 텍스트
.readable-content {
  font-size: 16px;
  line-height: 1.6;
  letter-spacing: 0.5px;
}

// 스크롤 표시
.scroll-indicator {
  position: sticky;
  top: 0;
  background: linear-gradient(white, transparent);
  height: 20px;
}
```

### **데이터 로딩 전략**
```tsx
// 페이지네이션
- 초기 로드: 최근 20개 기록
- 스크롤 감지: 하단 200px 도달 시 추가 로드
- 캐싱: 로드된 데이터는 세션 동안 유지

// 오프라인 지원
- 최근 50개 기록 로컬 저장
- 네트워크 오류 시 캐시된 데이터 표시
- 온라인 복구 시 자동 동기화
```

## 🚀 구현 우선순위

### **Phase 1: 기본 조회**
1. 기록 목록 표시
2. 기간/카테고리 필터
3. 기본 상세 보기

### **Phase 2: 고급 기능**
1. 검색 기능
2. 무한 스크롤
3. 상세 분석 정보

### **Phase 3: 최적화**
1. 오프라인 지원
2. 성능 최적화
3. 접근성 개선

---

**📋 이 기록 조회 페이지는 노인분들이 지난 대화와 안부를 쉽게 되돌아보고 확인할 수 있도록 설계되었습니다!**