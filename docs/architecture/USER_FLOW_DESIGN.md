# MARUNI 사용자 플로우 설계

## 🎯 사용자 페르소나

### 주 사용자: 노인 (65세 이상)
- **기술 수준**: 스마트폰 기본 사용 가능, 복잡한 UI는 어려움
- **신체적 특성**: 시력 저하, 손가락 정교함 감소, 반응 속도 느림
- **인지적 특성**: 새로운 인터페이스 학습 어려움, 단순하고 일관된 패턴 선호
- **감정적 니즈**: 외로움 해소, 가족과의 소통, 안전감 확보

### 보조 사용자: 보호자 (자녀, 간병인)
- **기술 수준**: 일반적인 스마트폰/웹 사용자
- **주요 관심사**: 노인의 안전 상태 모니터링, 이상 징후 알림
- **사용 패턴**: 주기적 확인, 알림 기반 사용

## 🔄 핵심 사용자 여정

### 1. 첫 사용자 온보딩 플로우
```
[앱 설치/접속] → [환영 화면] → [간단한 소개] → [회원가입] → [기본 설정] → [보호자 등록] → [첫 안부 확인]
```

#### 1.1 앱 설치/접속
- **PWA 설치 안내**: 브라우저에서 "홈 화면에 추가" 유도
- **로딩 화면**: 큰 로고와 친근한 메시지
- **필요시**: 인터넷 연결 상태 확인

#### 1.2 환영 화면 (Welcome Screen)
- **메인 메시지**: "안녕하세요! 마루니입니다"
- **서브 메시지**: "매일 안부를 확인하고 가족과 소통해요"
- **큰 시작 버튼**: "시작하기" (전체 화면의 1/4 크기)

#### 1.3 간단한 소개 (3-4 슬라이드)
- **슬라이드 1**: "매일 안부 메시지를 보내드려요"
- **슬라이드 2**: "AI와 편안한 대화를 나눠보세요"
- **슬라이드 3**: "가족이 안전하게 지켜보고 있어요"
- **큰 다음 버튼**: 각 슬라이드마다 명확한 진행 버튼

#### 1.4 회원가입
- **최소 정보**: 이름, 전화번호, 간단한 비밀번호
- **큰 입력 필드**: 터치하기 쉬운 크기
- **음성 입력 지원**: 텍스트 입력이 어려운 경우
- **진행 상황 표시**: "1/3 단계" 형태로 명확히 표시

#### 1.5 기본 설정
- **폰트 크기**: 작게/보통/크게 (실시간 미리보기)
- **알림 시간**: 안부 메시지 받을 시간 설정 (기본: 오전 9시)
- **간단한 프로필**: 선택적 정보 (취미, 관심사)

#### 1.6 보호자 등록
- **관계 선택**: 자녀, 배우자, 간병인, 기타
- **연락처 입력**: 전화번호 또는 이메일
- **알림 설정**: 어떤 상황에 알릴지 간단 선택
- **나중에 설정**: skip 옵션 제공

#### 1.7 첫 안부 확인
- **환영 메시지**: "설정이 완료되었어요! 첫 안부를 확인해보세요"
- **체험 대화**: AI와 간단한 첫 대화
- **성공 메시지**: "잘하셨어요! 내일부터 매일 안부를 확인해드릴게요"

### 2. 일상적 사용 플로우

#### 2.1 매일 안부 확인 플로우
```
[앱 접속] → [오늘의 안부 확인] → [빠른 응답 또는 대화] → [결과 확인] → [추가 기능 이용]
```

**앱 접속**
- **자동 로그인**: JWT 토큰으로 자동 인증
- **대시보드 표시**: 오늘의 상태, 날씨, 간단한 인사

**오늘의 안부 확인**
- **안부 메시지**: "오늘 기분은 어떠세요?"
- **큰 응답 버튼들**:
  - 😊 "좋아요" (초록색)
  - 😐 "그저 그래요" (노란색)
  - 😢 "안 좋아요" (주황색)
  - 💬 "대화하고 싶어요" (파란색)

**빠른 응답**
- **선택 시**: 간단한 후속 질문 1-2개
- **대화 선택 시**: AI 대화 화면으로 이동
- **음성 응답**: 음성 녹음 버튼 (큰 마이크 아이콘)

**결과 확인**
- **응답 완료 메시지**: "오늘도 안부 확인 완료!"
- **감정 상태 표시**: 간단한 아이콘과 메시지
- **격려 메시지**: "좋은 하루 보내세요"

#### 2.2 AI 대화 플로우
```
[대화 시작] → [자연스러운 대화] → [감정 분석] → [필요시 알림] → [대화 종료]
```

**대화 시작**
- **AI 인사**: "안녕하세요! 오늘은 어떤 이야기를 나눠볼까요?"
- **제안 토픽**: "오늘 날씨", "건강 상태", "가족 이야기" 등 버튼

**자연스러운 대화**
- **큰 채팅 인터페이스**: 말풍선 크기 크게
- **음성 입력**: 마이크 버튼 항상 표시
- **텍스트 입력**: 필요시 큰 키보드
- **AI 응답**: 따뜻하고 공감적인 톤

**감정 분석 (백그라운드)**
- **키워드 감지**: "아파요", "외로워요", "도움이 필요해요"
- **감정 패턴 분석**: 부정적 감정 지속 시 감지
- **즉시 개입**: 위험 키워드 감지 시 즉시 확인 질문

**필요시 알림**
- **보호자 알림**: 이상 징후 감지 시 자동 발송
- **추가 확인**: "괜찮으신가요? 가족에게 연락드릴까요?"

#### 2.3 보호자 관리 플로우
```
[보호자 목록] → [보호자 선택] → [설정 변경] → [테스트 알림] → [저장]
```

**보호자 목록**
- **카드 형태**: 각 보호자를 큰 카드로 표시
- **관계 표시**: "딸", "아들", "간병인" 등 명확히 표시
- **연락처**: 전화번호 표시
- **상태**: 알림 설정 상태 (켜짐/꺼짐)

**설정 변경**
- **알림 종류**:
  - 일일 안부 요약 (매일 저녁)
  - 감정 이상 감지 (즉시)
  - 무응답 감지 (24시간 후)
  - 긴급 키워드 감지 (즉시)
- **알림 방법**: 문자, 이메일, 앱 푸시
- **알림 시간**: 언제 받을지 설정

### 3. 특수 상황 플로우

#### 3.1 긴급 상황 플로우
```
[긴급 키워드 감지] → [즉시 확인] → [보호자 알림] → [추가 지원 안내]
```

**긴급 키워드 감지**
- **트리거 단어**: "아파요", "쓰러졌어요", "병원", "119" 등
- **즉시 반응**: 일반 AI 응답 중단

**즉시 확인**
- **큰 알림**: "응급 상황인가요?"
- **간단한 선택**: "예, 도움 필요" / "아니오, 괜찮아요"
- **자동 타이머**: 30초 내 응답 없으면 자동으로 알림 발송

**보호자 알림**
- **즉시 발송**: 문자, 전화, 앱 푸시 동시 발송
- **위치 정보**: 가능한 경우 위치 정보 포함
- **상황 요약**: "긴급 키워드 감지됨: [발언 내용]"

#### 3.2 무응답 상황 플로우
```
[24시간 무응답] → [재확인 메시지] → [6시간 추가 대기] → [보호자 알림]
```

**24시간 무응답**
- **자동 감지**: 마지막 활동으로부터 24시간 경과
- **재확인 시도**: "안부가 궁금해요. 괜찮으신가요?"

**추가 확인**
- **푸시 알림**: 앱이 설치된 경우 푸시 알림
- **문자 메시지**: 등록된 전화번호로 문자 발송
- **6시간 대기**: 추가 응답 기회 제공

**보호자 알림**
- **상황 설명**: "30시간 동안 응답이 없습니다"
- **마지막 활동**: 마지막 접속 시간과 상태
- **권장 행동**: "안전 확인을 권장합니다"

## 📱 화면별 주요 요소

### 공통 UI 원칙
- **큰 터치 영역**: 최소 60px 높이
- **명확한 계층**: 중요한 요소일수록 크게
- **일관된 위치**: 같은 기능은 항상 같은 위치
- **충분한 여백**: 실수 터치 방지

### 네비게이션 구조
```
하단 네비게이션 (고정):
[홈] [대화] [보호자] [설정]

상단 헤더:
[뒤로가기] [제목] [도움말]
```

### 접근성 고려사항
- **스크린 리더**: 모든 요소에 적절한 label
- **키보드 네비게이션**: Tab 키로 순차 이동 가능
- **고대비 모드**: 색약/저시력 사용자 고려
- **음성 안내**: 중요한 상황에서 음성 피드백

## 🔍 사용자 테스트 포인트

### 핵심 측정 지표
- **온보딩 완료율**: 회원가입부터 첫 안부확인까지
- **일일 사용률**: 매일 안부확인 참여율
- **대화 지속 시간**: AI와의 평균 대화 시간
- **오류 발생률**: 잘못된 터치, 길 잃음 등

### 사용성 테스트 시나리오
1. **첫 사용**: 앱 설치부터 첫 안부확인까지 (목표: 10분 이내)
2. **일상 사용**: 오늘의 안부확인 완료 (목표: 2분 이내)
3. **대화 기능**: AI와 3분 이상 자연스러운 대화
4. **보호자 설정**: 새 보호자 추가 및 알림 설정
5. **긴급 상황**: 도움 요청 시나리오 테스트

---

**🎯 이 사용자 플로우는 노인 사용자의 특성을 최대한 고려하여 단순하고 직관적인 경험을 제공하도록 설계되었습니다.**