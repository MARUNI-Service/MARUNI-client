# MARUNI 사용자 플로우 설계

> 단일 앱 통합 구조 - 역할별 동적 화면 구성

## 🎯 사용자 페르소나

### 페르소나 1: 김순자 (노인 전용)
- **역할**: 피보호자 (노인)
- **나이**: 72세
- **기술 수준**: 스마트폰 기본 사용 가능, 복잡한 UI는 어려움
- **신체적 특성**: 시력 저하, 손가락 정교함 감소, 반응 속도 느림
- **인지적 특성**: 새로운 인터페이스 학습 어려움, 단순하고 일관된 패턴 선호
- **감정적 니즈**: 외로움 해소, 가족과의 소통, 안전감 확보
- **주요 기능**: 안부 확인, AI 대화

### 페르소나 2: 김영희 (보호자 전용)
- **역할**: 보호자 (자녀, 간병인)
- **나이**: 45세
- **기술 수준**: 일반적인 스마트폰 사용자
- **주요 관심사**: 부모님 안전 상태 모니터링, 이상 징후 알림
- **사용 패턴**: 주기적 확인, 알림 기반 사용
- **주요 기능**: 보호 대상 관리, 알림 설정, 안부 기록 확인

### 페르소나 3: 박철수 (이중 역할)
- **역할**: 노인이면서 동시에 보호자
- **나이**: 68세
- **상황**: 자신의 안부 관리 + 배우자 돌봄
- **주요 기능**: 노인 기능 + 보호자 기능 모두 사용
- **네비게이션**: 역할 전환 기능 필요

## 🏗️ 앱 구조 원칙

### 단일 앱, 역할별 동적 화면
```
MARUNI 앱
├── 역할 감지 (로그인 시)
│   ├── 노인 전용 → 노인 홈 화면
│   ├── 보호자 전용 → 보호자 홈 화면
│   └── 이중 역할 → 역할 전환 UI 제공
```

### 역할별 화면 구성
- **노인 화면**: 큰 글씨, 간단한 구조, 핵심 기능만
- **보호자 화면**: 정보 밀도 높음, 다양한 기능
- **이중 역할**: 상단에 역할 전환 버튼 추가

## 🔄 핵심 사용자 여정

### 1. 온보딩 플로우

#### 1.1 김순자 (노인 전용) 온보딩
```
[앱 접속] → [환영 화면] → [회원가입 - 노인] → [보호자 등록] → [첫 안부 확인]
```

**회원가입 (노인)**
- 이름, 전화번호, 간단한 비밀번호
- 생년월일 입력으로 자동으로 "노인" 역할 부여
- 큰 입력 필드, 음성 입력 지원

**보호자 등록**
- 자녀/배우자/간병인 연락처 입력
- 초대 메시지 자동 발송
- 나중에 설정 가능 (skip 옵션)

**첫 안부 확인**
- AI와 간단한 첫 대화
- 사용법 체험

#### 1.2 김영희 (보호자 전용) 온보딩
```
[초대 링크 접속] → [회원가입 - 보호자] → [보호 대상 연결] → [알림 설정] → [완료]
```

**회원가입 (보호자)**
- 이름, 이메일, 비밀번호
- "보호자" 역할 자동 부여

**보호 대상 연결**
- 초대한 노인과 자동 연결
- 관계 설정 (딸, 아들, 간병인 등)

**알림 설정**
- 어떤 상황에 알림 받을지 선택
- 일일 안부 요약, 이상 징후, 긴급 상황

#### 1.3 박철수 (이중 역할) 온보딩
```
[노인 회원가입] → [배우자를 보호 대상으로 등록] → [역할 전환 UI 활성화]
```

**이중 역할 자동 감지**
- 노인으로 가입 + 다른 노인을 보호 대상으로 추가
- 자동으로 이중 역할 부여
- 상단에 역할 전환 토글 표시

### 2. 일상 사용 플로우

#### 2.1 김순자 (노인) - 매일 안부 확인
```
[앱 접속] → [노인 홈 화면] → [오늘의 안부 확인] → [빠른 응답/대화] → [완료]
```

**노인 홈 화면**
- 큰 인사 메시지: "안녕하세요, 순자님!"
- 오늘의 날씨, 간단한 상태
- 큰 버튼: "오늘 안부 확인하기"

**안부 확인**
- "오늘 기분은 어떠세요?"
- 큰 응답 버튼:
  - 😊 좋아요 (초록)
  - 😐 그저 그래요 (노랑)
  - 😢 안 좋아요 (주황)
  - 💬 대화하고 싶어요 (파랑)

**AI 대화**
- 큰 채팅 인터페이스
- 음성 입력 지원
- 따뜻하고 공감적인 AI 응답

#### 2.2 김영희 (보호자) - 부모님 상태 확인
```
[앱 접속] → [보호자 홈 화면] → [보호 대상 목록] → [상세 확인] → [필요시 알림 설정 변경]
```

**보호자 홈 화면**
- 보호 대상 목록 (카드 형태)
- 각 카드: 이름, 최근 안부 상태, 마지막 응답 시간
- 알림 배지 (미확인 알림)

**상세 확인**
- 최근 안부 기록 (시간순)
- 감정 추이 그래프
- AI 대화 요약
- 이상 징후 알림 이력

**알림 설정**
- 알림 종류별 on/off
- 알림 시간 설정
- 알림 방법 (문자, 이메일, 푸시)

#### 2.3 박철수 (이중 역할) - 역할 전환 사용
```
[노인 모드로 안부 확인] → [역할 전환] → [보호자 모드로 배우자 상태 확인]
```

**역할 전환 UI**
- 상단 토글 버튼: "내 안부" ↔ "배우자 돌봄"
- 전환 시 화면 전체 변경 (노인 화면 ↔ 보호자 화면)
- 각 역할의 데이터 독립적으로 표시

### 3. 특수 상황 플로우

#### 3.1 긴급 상황 - 김순자 측
```
[AI 대화 중 긴급 키워드] → [즉시 확인 팝업] → [보호자 알림 발송]
```

**긴급 키워드 감지**
- "아파요", "쓰러졌어요", "병원", "119"
- 즉시 확인: "응급 상황인가요?"
- 선택: "예" / "아니오"
- 30초 무응답 시 자동 알림

**보호자 알림**
- 김영희에게 즉시 푸시 + 문자
- 알림 내용: "긴급 키워드 감지됨: [발언 내용]"
- 위치 정보 포함 (가능한 경우)

#### 3.2 무응답 상황
```
[24시간 무응답] → [재확인 시도] → [6시간 추가 대기] → [보호자 알림]
```

**자동 감지**
- 마지막 활동 후 24시간 경과
- 재확인 푸시: "안부가 궁금해요. 괜찮으신가요?"
- 6시간 추가 대기

**보호자 알림 (30시간 후)**
- 김영희에게 알림: "30시간 동안 응답 없음"
- 마지막 활동 시간과 상태 포함
- 권장 행동: "안전 확인을 권장합니다"

## 📱 화면별 주요 요소

### 공통 UI 원칙
> 🎨 **상세한 디자인**: [디자인 시스템](./DESIGN_SYSTEM.md) 참조

#### 노인 화면 원칙
- **큰 터치 영역**: 60px 이상
- **큰 폰트**: 최소 20px
- **단순한 구조**: 한 화면에 1-2개 주요 기능만
- **명확한 계층**: 시각적 구분 명확

#### 보호자 화면 원칙
- **정보 밀도**: 더 많은 정보 표시 가능
- **일반 터치 영역**: 48px 이상
- **일반 폰트**: 16-18px
- **다양한 기능**: 탭, 필터, 정렬 등

### 네비게이션 구조

#### 노인 화면 네비게이션 (단순)
```
하단 네비게이션 (큰 아이콘):
[홈] [대화] [설정]
```

#### 보호자 화면 네비게이션 (풍부)
```
하단 네비게이션:
[홈] [보호 대상] [알림] [설정]
```

#### 이중 역할 네비게이션
```
상단: [역할 전환 토글]
하단: 현재 역할에 맞는 네비게이션 동적 표시
```

### 접근성 고려사항
- **스크린 리더**: 모든 요소에 적절한 aria-label
- **키보드 네비게이션**: Tab 키로 순차 이동
- **고대비 모드**: WCAG 2.1 AA 준수
- **음성 안내**: 중요 상황에서 음성 피드백

## 🔍 역할별 핵심 기능 매트릭스

| 기능               | 노인 (김순자) | 보호자 (김영희) | 이중 역할 (박철수) |
| ------------------ | ------------- | --------------- | ------------------ |
| 안부 확인          | ✅            | ❌              | ✅ (노인 모드)     |
| AI 대화            | ✅            | ❌              | ✅ (노인 모드)     |
| 보호 대상 관리     | ❌            | ✅              | ✅ (보호자 모드)   |
| 알림 설정          | ❌            | ✅              | ✅ (보호자 모드)   |
| 안부 기록 확인     | 제한적        | ✅              | ✅ (보호자 모드)   |
| 역할 전환          | ❌            | ❌              | ✅                 |
| 보호자 초대        | ✅            | ❌              | ✅ (노인 모드)     |

## 🎯 사용자 테스트 포인트

### 핵심 측정 지표
- **온보딩 완료율**: 역할별 회원가입부터 첫 사용까지
- **일일 사용률**: 노인의 매일 안부 확인 참여율
- **보호자 확인률**: 보호자의 주기적 확인 빈도
- **역할 전환 성공률**: 이중 역할 사용자의 전환 성공률
- **오류 발생률**: 역할별 잘못된 터치, 길 잃음 등

### 역할별 테스트 시나리오

#### 김순자 (노인)
1. 앱 설치부터 첫 안부 확인까지 (목표: 10분 이내)
2. 매일 안부 확인 완료 (목표: 2분 이내)
3. AI와 3분 이상 자연스러운 대화
4. 보호자 추가 및 초대 메시지 발송

#### 김영희 (보호자)
1. 초대 링크로 가입 및 연결 (목표: 5분 이내)
2. 부모님 최근 안부 기록 확인
3. 알림 설정 변경
4. 이상 징후 알림 수신 및 대응

#### 박철수 (이중 역할)
1. 자신의 안부 확인 → 역할 전환 → 배우자 상태 확인 (목표: 5분 이내)
2. 역할 전환 후 각 화면의 독립적 데이터 확인
3. 두 역할의 알림 동시 관리

---

**🎯 이 사용자 플로우는 단일 앱 구조에서 역할별로 최적화된 경험을 제공하며, 노인과 보호자 모두의 니즈를 충족하도록 설계되었습니다.**

**📅 마지막 업데이트**: 2025-10-12
**🔗 참조**: [user-flow.md](../flows/user-flow.md) (2025-01-06)
